<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Prokaiwa | プライバシーポリシー / Privacy Policy</title>
    <meta name="description" content="Prokaiwaのプライバシーポリシー。お客様の個人情報の取り扱いについてご説明します。">
    <meta name="author" content="Prokaiwa">
    <link rel="icon" href="assets/images/favicon.ico" type="image/x-icon">
    <link rel="stylesheet" href="assets/css/style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css" integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A==" crossorigin="anonymous" referrerpolicy="no-referrer" />
</head>
<body>
    <header class="site-header">
        <div class="container">
            <img src="assets/images/prokaiwa-logo.jpg" alt="Prokaiwa Logo" class="logo" />
            <button class="burger-menu" aria-label="Toggle navigation">
                <i class="fas fa-bars"></i>
            </button>
            <nav class="main-nav">
                <ul>
                    <li><a href="index.html">Home</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html">Contact</a></li>
                    <li><a href="login.html">Log In</a></li>
                    <li>
                        <div class="nav-lang-toggle">
                            <button data-lang="ja">日本語</button>
                            <button data-lang="en">English</button>
                        </div>
                    </li>
                </ul>
            </nav>
        </div>
    </header>

    <main>
        <div class="container legal-page-container">
            <button class="close-button" aria-label="Go back to previous page" onclick="history.back()">
                <i class="fas fa-times"></i>
            </button>

            <div lang="en">
                <h1 class="page-title">Privacy Policy</h1>
            </div>
            <div lang="ja">
                <h1 class="page-title">プライバシーポリシー</h1>
            </div>

            <section id="ja-privacy-policy" class="lang-section content-section" lang="ja">
                <h2 class="section-heading">プライバシーポリシー</h2>
                <p>個人情報の収集、利用、保護に関する方針</p>

                <h3 class="subsection-heading">収集する情報</h3>
                <ul>
                    <li>氏名、メールアドレスなどの個人識別情報</li>
                    <li>レッスン提供のためのLINE ID</li>
                    <li>Stripeを通じた支払い情報</li>
                    <li>英語レベルや学習の希望内容</li>
                    <li>レッスンの質向上のためのやり取り記録</li>
                </ul>

                <h3 class="subsection-heading">情報の利用目的</h3>
                <ul>
                    <li>LINEによる英会話レッスンの提供</li>
                    <li>決済およびサブスクリプション管理</li>
                    <li>Calendlyによるビデオレッスンのスケジュール</li>
                    <li>個別のフィードバックや学習資料の提供</li>
                    <li>サービスの改善と顧客サポート</li>
                </ul>

                <h3 class="subsection-heading">データの保管とセキュリティ</h3>
                <p>Supabaseのインフラを使用して業界標準のセキュリティで安全に保管しています。</p>

                <h3 class="subsection-heading">第三者サービスの利用</h3>
                <ul>
                    <li>Stripe：安全な決済処理</li>
                    <li>Calendly：ビデオレッスンのスケジュール管理</li>
                    <li>LINE：レッスン提供とコミュニケーション</li>
                </ul>
                <p>個人情報を第三者に販売・貸与・提供することはありません。</p>

                <h3 class="subsection-heading">お客様の権利</h3>
                <ul>
                    <li>保有する個人情報へのアクセス</li>
                    <li>不正確な情報の訂正要求</li>
                    <li>個人データの削除要求</li>
                    <li>同意の撤回</li>
                    <li>一部の処理に対する異議申し立て</li>
                </ul>

                <h3 class="subsection-heading">データ保持期間</h3>
                <p>サービス提供と法的義務の履行に必要な期間のみ保持します。</p>

                <h3 class="subsection-heading">お問い合わせ</h3>
                <p>ご質問・ご要望は以下までご連絡ください：</p>
                <p>Email: prokaiwa.english@gmail.com</p>

                <h3 class="subsection-heading">ポリシーの変更</h3>
                <p>変更があった場合はこのページでお知らせします。</p>
            </section>

            <section id="en-privacy-policy" class="lang-section content-section" lang="en">
                <h2 class="section-heading">Privacy Policy</h2>
                <p>How we collect, use, and protect your personal information</p>

                <h3 class="subsection-heading">Information We Collect</h3>
                <ul>
                    <li>Personal identification information (name, email address)</li>
                    <li>LINE ID for lesson delivery</li>
                    <li>Payment information processed through Stripe</li>
                    <li>English proficiency level and learning preferences</li>
                    <li>Communication records for lesson quality and improvement</li>
                </ul>

                <h3 class="subsection-heading">How We Use Your Information</h3>
                <ul>
                    <li>Delivering English conversation lessons via LINE</li>
                    <li>Processing payments and managing subscriptions</li>
                    <li>Scheduling video lessons through Calendly</li>
                    <li>Providing personalized feedback and learning materials</li>
                    <li>Improving our services and customer support</li>
                </ul>

                <h3 class="subsection-heading">Data Storage and Security</h3>
                <p>Your personal data is stored securely using Supabase infrastructure with industry-standard security measures.</p>

                <h3 class="subsection-heading">Third-Party Services</h3>
                <ul>
                    <li>Stripe: For secure payment processing</li>
                    <li>Calendly: For scheduling video lessons</li>
                    <li>LINE: For lesson delivery and communication</li>
                </ul>
                <p>We do not sell, trade, or rent your personal information to third parties for marketing purposes.</p>

                <h3 class="subsection-heading">Your Rights</h3>
                <ul>
                    <li>Access the personal information we hold about you</li>
                    <li>Request correction of inaccurate information</li>
                    <li>Request deletion of your personal data</li>
                    <li>Withdraw consent for data processing</li>
                    <li>Object to certain types of data processing</li>
                </ul>

                <h3 class="subsection-heading">Data Retention</h3>
                <p>We retain your personal information only for as long as necessary to provide our services and comply with legal obligations.</p>

                <h3 class="subsection-heading">Contact Us</h3>
                <p>If you have any questions about this Privacy Policy, please contact us at:</p>
                <p>Email: prokaiwa.english@gmail.com</p>

                <h3 class="subsection-heading">Changes to This Policy</h3>
                <p>We may update this Privacy Policy from time to time. Changes will be posted on this page.</p>
            </section>
        </div>
    </main>

    <footer class="site-footer">
        <div class="container">
            <div class="footer-grid">
                <div class="footer-column">
                    <h3>Company</h3>
                    <ul>
                        <li><a href="about.html">About Us</a></li>
                        <li><a href="contact.html">Contact</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Legal</h3>
                    <ul>
                        <li><a href="commerce-disclosure.html">Commerce Disclosure</a></li>
                        <li><a href="privacy-policy.html">Privacy Policy</a></li>
                        <li><a href="terms-of-service.html">Terms of Service</a></li>
                    </ul>
                </div>
                <div class="footer-column">
                    <h3>Connect</h3>
                    <div class="footer-social-icons">
                        <a href="https://page.line.me/845irjbc" class="social-icon" target="_blank" aria-label="LINE"><i class="fab fa-line"></i></a>
                        <a href="https://www.instagram.com/prokaiwa.english/" class="social-icon" target="_blank" aria-label="Instagram"><i class="fab fa-instagram"></i></a>
                        <a href="https://x.com/ProkaiwaEnglish" class="social-icon" target="_blank" aria-label="X (formerly Twitter)"><i class="fab fa-x-twitter"></i></a>
                    </div>
                    <a href="mailto:prokaiwa.english@gmail.com" class="footer-email">prokaiwa.english@gmail.com</a>
                </div>
            </div>
            <p>© <span id="year"></span> Prokaiwa. All rights reserved.</p>
        </div>
    </footer>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- Element Selectors ---
            const burgerMenu = document.querySelector('.burger-menu');
            const mainNav = document.querySelector('.main-nav');
            const langToggle = document.querySelector('.nav-lang-toggle'); // Updated selector
            
            // --- Language Toggle Functionality ---
            function setLanguage(lang) {
                // NEW: Save the selected language to localStorage
                localStorage.setItem('prokaiwaLang', lang);

                const isJapanese = lang === 'ja';
                document.documentElement.lang = lang; // Set <html lang="...">

                // Hide/show all elements with a lang attribute within the body
                const allLangElements = document.body.querySelectorAll('[lang="ja"], [lang="en"]');
                allLangElements.forEach(el => {
                    if (el.getAttribute('lang') === lang) {
                        el.style.display = '';
                        if (el.classList.contains('lang-section')) {
                            el.classList.add('show');
                        }
                    } else {
                        el.style.display = 'none';
                        if (el.classList.contains('lang-section')) {
                            el.classList.remove('show');
                        }
                    }
                });

                // Update active state on toggle buttons
                langToggle.querySelector('[data-lang="ja"]').classList.toggle('active', isJapanese);
                langToggle.querySelector('[data-lang="en"]').classList.toggle('active', !isJapanese);
            }

            langToggle.addEventListener('click', event => {
                const button = event.target.closest('button[data-lang]');
                if (button) {
                    setLanguage(button.dataset.lang);
                }
            });

            // --- Initial Language Setup ---
            // 1. Check for a saved language in localStorage
            const savedLang = localStorage.getItem('prokaiwaLang');
            if (savedLang) {
                setLanguage(savedLang);
            } else {
                // 2. If no saved language, detect browser preference
                const userLang = (navigator.language || navigator.userLanguage).split('-')[0];
                setLanguage(userLang === 'ja' ? 'ja' : 'en');
            }

            // --- Burger Menu Functionality ---
            burgerMenu.addEventListener('click', () => {
                mainNav.classList.toggle('open');
                burgerMenu.querySelector('i').classList.toggle('fa-bars');
                burgerMenu.querySelector('i').classList.toggle('fa-times');
            });
            
            // --- Footer Year ---
            const yearSpan = document.getElementById('year');
            if (yearSpan) {
                yearSpan.textContent = new Date().getFullYear();
            }

            // --- FAQ Accordion (if it exists on the page) ---
            const faqQuestions = document.querySelectorAll('.faq-question');
            if (faqQuestions.length > 0) {
                faqQuestions.forEach(question => {
                    question.addEventListener('click', () => {
                        const answer = question.nextElementSibling;
                        const isOpen = answer.style.maxHeight;

                        // Close all other answers
                        faqQuestions.forEach(q => {
                            if (q !== question) {
                                q.nextElementSibling.style.maxHeight = null;
                                q.nextElementSibling.classList.remove('open');
                            }
                        });

                        // Toggle the clicked answer
                        if (!isOpen) {
                            answer.style.maxHeight = (answer.scrollHeight + 20) + 'px';
                            answer.classList.add('open');
                        } else {
                            answer.style.maxHeight = null;
                            answer.classList.remove('open');
                        }
                    });
                });
            }
        });
    </script>
</body>
</html>